/*
 * OLED.c
 *
 *  Created on: Sep 22, 2024
 *      Author: benjamin
 */
#include "OLED.h"
#include <string.h>
#include <math.h>
#include <stdio.h>
#include <stdarg.h>
//ensure your OLED size
uint8_t OLED_DisplayBuf[8][128];

struct _OLED_Pin{
	GPIO_TypeDef* GPIOx;
	uint16_t SDA;
	uint16_t SCl;
	uint8_t ScreenSize__96;
}OLED_Pin;

void OLED_W_SCL(uint8_t BitValue){
    if (BitValue) {
        OLED_Pin.GPIOx->BSRR = OLED_Pin.SCl;  // 置位
    } else {
        OLED_Pin.GPIOx->BRR = OLED_Pin.SCl;   // 复位
    }
}
void OLED_W_SDA(uint8_t BitValue){
    if (BitValue) {
        OLED_Pin.GPIOx->BSRR = OLED_Pin.SDA;  // 置位
    } else {
        OLED_Pin.GPIOx->BRR = OLED_Pin.SDA;   // 复位
    }
}

void OLED_GPIO_Init(void){//set your SCL and SDA pin
	uint32_t i, j;
	for (i = 0; i < 1000; i ++)
	{
		for (j = 0; j < 1000; j ++);
	}

	OLED_W_SCL(1);
	OLED_W_SDA(1);
}

void OLED_I2C_Start(void){
	OLED_W_SDA(1);		//éćžSDAďźçĄŽäżSDAä¸şéŤçľĺšł
	OLED_W_SCL(1);		//éćžSCLďźçĄŽäżSCLä¸şéŤçľĺšł
	OLED_W_SDA(0);		//ĺ¨SCLéŤçľĺšłćé´ďźćä˝SDAďźäş§çčľˇĺ§äżĄĺ?
	OLED_W_SCL(0);		//čľˇĺ?ĺćSCLäšćä˝ďźĺłä¸şäşĺ ç¨ćťçşżďźäšä¸şäşćšäžżćťçşżćśĺşçćźć?
}

void OLED_I2C_Stop(void){
	OLED_W_SDA(0);		//ćä˝SDAďźçĄŽäżSDAä¸şä˝çľĺšł
	OLED_W_SCL(1);		//éćžSCLďźä˝żSCLĺç°éŤçľĺš?
	OLED_W_SDA(1);		//ĺ¨SCLéŤçľĺšłćé´ďźéćžSDAďźäş§ççťć­?äżĄĺˇ
}

void OLED_I2C_SendByte(uint8_t Byte){
	uint8_t i;
	for (i = 0; i < 8; i++)
	{
		OLED_W_SDA(!!(Byte & (0x80 >> i)));
		//delay_us(2);
		OLED_W_SCL(1);	//éćžSCLďźäťćşĺ¨SCLéŤçľĺšłćé´č?ťĺSDA
		//delay_us(2);
		OLED_W_SCL(0);	//ćä˝SCLďźä¸ťćşĺźĺ§ĺéä¸ä¸ä˝ć°ć?
		//delay_us(2);

	}
	OLED_W_SCL(1);		//é˘ĺ?çä¸ä¸?ćśéďźä¸ĺ¤çĺşç­äżĄĺˇ
	OLED_W_SCL(0);
}

void OLED_WriteCommand(uint8_t Command)
{
	OLED_I2C_Start();				//I2Cčľˇĺ??
	OLED_I2C_SendByte(0x78);		//ĺéOLEDçI2Cäťćşĺ°ĺ
	OLED_I2C_SendByte(0x00);		//ć§ĺśĺ­čďźçť0x00ďźčĄ¨ç¤şĺłĺ°ĺĺ˝äť¤
	OLED_I2C_SendByte(Command);		//ĺĺĽćĺŽçĺ˝äť?
	OLED_I2C_Stop();				//I2Cçťć??
}

void OLED_WriteData(uint8_t *Data, uint8_t Count)
{
	uint8_t i;

	OLED_I2C_Start();				//I2Cčľˇĺ??
	OLED_I2C_SendByte(0x78);		//ĺéOLEDçI2Cäťćşĺ°ĺ
	OLED_I2C_SendByte(0x40);		//ć§ĺśĺ­čďźçť0x40ďźčĄ¨ç¤şĺłĺ°ĺć°ćŽ
	/*ĺž?çŻCountćŹĄďźčżč?čżçť?çć°ć?ĺĺĽ*/
	for (i = 0; i < Count; i ++)
	{
		OLED_I2C_SendByte(Data[i]);	//äžć?ĄĺéDataçćŻä¸ä¸?ć°ćŽ

	}
	OLED_I2C_Stop();				//I2Cçťć??
}

void OLED_Init(GPIO_TypeDef* GPIOx,uint16_t SDA,uint16_t SCl,uint8_t IF_0_96)
{
	OLED_Pin.GPIOx =GPIOx;
	OLED_Pin.SCl = SCl;
	OLED_Pin.SDA = SDA;
	OLED_Pin.ScreenSize__96 = IF_0_96;

	OLED_GPIO_Init();			//ĺč°ç¨ĺşĺąççŤ?ĺŁĺĺ§ĺ

	OLED_WriteCommand(0xAE);	//čŽžç˝Žćžç¤şĺźĺ?/ĺłé­ďź?0xAEĺłé­ďź?0xAFĺźĺ?
	OLED_WriteCommand(0xD5);	//čŽžç˝Žćžç¤şćśéĺé?ćŻ/ć?čĄĺ¨é˘ç
	OLED_WriteCommand(0x80);	//0x00~0xFF
	OLED_WriteCommand(0xA8);	//čŽžç˝Žĺ¤čˇŻĺ¤ç¨ç?
	OLED_WriteCommand(0x3F);	//0x0E~0x3F
	OLED_WriteCommand(0xD3);	//čŽžç˝Žćžç¤şĺç§ť
	OLED_WriteCommand(0x00);	//0x00~0x7F
	OLED_WriteCommand(0x40);	//čŽžç˝Žćžç¤şĺźĺ§č?ďź0x40~0x7F
	OLED_WriteCommand(0xA1);	//čŽžç˝ŽĺˇŚĺłćšĺďź?0xA1ć­Łĺ¸¸ďź?0xA0ĺˇŚĺłĺç˝Ž
	OLED_WriteCommand(0xC8);	//čŽžç˝Žä¸ä¸ćšĺďź?0xC8ć­Łĺ¸¸ďź?0xC0ä¸ä¸ĺç˝Ž
	OLED_WriteCommand(0xDA);	//čŽžç˝ŽCOMĺźčçĄ?äťśéç˝?
	OLED_WriteCommand(0x12);
	OLED_WriteCommand(0x81);	//čŽžç˝ŽĺŻšćŻĺş?
	OLED_WriteCommand(0xCF);	//0x00~0xFF
	OLED_WriteCommand(0xD9);	//čŽžç˝Žé˘ĺçľĺ¨ć?
	OLED_WriteCommand(0xF1);
	OLED_WriteCommand(0xDB);	//čŽžç˝ŽVCOMHĺćśéćŠçş§ĺŤ
	OLED_WriteCommand(0x30);
	OLED_WriteCommand(0xA4);	//čŽžç˝Žć´ä¸Şćžç¤şćĺź/ĺłé­
	OLED_WriteCommand(0xA6);	//čŽžç˝Žć­Łĺ¸¸/ĺč˛ćžç¤şďź?0xA6ć­Łĺ¸¸ďź?0xA7ĺč˛
	OLED_WriteCommand(0x8D);	//čŽžç˝Žĺçľćł?
	OLED_WriteCommand(0x14);
	OLED_WriteCommand(0xAF);	//ĺźĺ?ćžç¤ş

	OLED_Clear();				//ć¸çŠşćžĺ­ć°çť
	OLED_Update();				//ć´ć°ćžç¤şďźć¸ĺąďźé˛ć?˘ĺĺ§ĺĺćŞćžç¤şĺĺ?šćśčąĺą
}

void OLED_SetCursor(uint8_t Page, uint8_t X)//(0~7,0~127)
{
	if(OLED_Pin.ScreenSize__96 == 0){
		X += 2;//1.3 inch OLED screen
	}
	OLED_WriteCommand(0xB0 | Page);					//čŽžç˝ŽéĄľä˝ç˝?
	OLED_WriteCommand(0x10 | ((X & 0xF0) >> 4));	//čŽžç˝ŽXä˝ç˝ŽéŤ?4ä˝?
	OLED_WriteCommand(0x00 | (X & 0x0F));			//čŽžç˝ŽXä˝ç˝Žä˝?4ä˝?
}

uint32_t OLED_Pow(uint32_t X, uint32_t Y)
{
	uint32_t Result = 1;	//çťćéťč?¤ä¸ş1
	while (Y --)			//ç´?äšYćŹ?
	{
		Result *= X;		//ćŻć?ĄćXç´?äšĺ°çťćä¸?
	}
	return Result;
}

/**
  * ĺ?    ć°ďźĺ¤ć­ćĺŽçšćŻĺŚĺ¨ćĺŽĺ¤čžšĺ˝˘ĺé?
  * ĺ?    ć°ďźnvert ĺ¤čžšĺ˝˘çéĄśçšć?
  * ĺ?    ć°ďźvertx verty ĺĺŤĺ¤čžšĺ˝˘éĄśçšçxĺyĺć çć°çť?
  * ĺ?    ć°ďźtestx testy ćľčŻçšçXĺyĺć 
  * čż? ĺ? ĺźďźćĺŽçšćŻĺŚĺ¨ćĺŽĺ¤čžšĺ˝˘ĺé?ďź?1ďźĺ¨ĺé¨ďź?0ďźä¸ĺ¨ĺé?
  */
uint8_t OLED_pnpoly(uint8_t nvert, int16_t *vertx, int16_t *verty, int16_t testx, int16_t testy)
{
	int16_t i, j, c = 0;

	for (i = 0, j = nvert - 1; i < nvert; j = i++)
	{
		if (((verty[i] > testy) != (verty[j] > testy)) &&
			(testx < (vertx[j] - vertx[i]) * (testy - verty[i]) / (verty[j] - verty[i]) + vertx[i]))
		{
			c = !c;
		}
	}
	return c;
}

/**
  * ĺ?    ć°ďźĺ¤ć­ćĺŽçšćŻĺŚĺ¨ćĺŽč§ĺşŚĺé¨
  * ĺ?    ć°ďźX Y ćĺŽçšçĺć 
  * ĺ?    ć°ďźStartAngle EndAngle čľˇĺ?č?ĺşŚĺçťć­˘č?ĺşŚďźčĺ´ďź-180~180
  *           ć°´ĺšłĺĺłä¸?0ĺşŚďźć°´ĺšłĺĺˇŚä¸?180ĺşŚć-180ĺşŚďźä¸ćšä¸şć?Łć°ďźä¸ćšä¸şč´ć°ďźéĄşćśéćč˝Ź
  * čż? ĺ? ĺźďźćĺŽçšćŻĺŚĺ¨ćĺŽč§ĺşŚĺé¨ďź?1ďźĺ¨ĺé¨ďź?0ďźä¸ĺ¨ĺé?
  */
uint8_t OLED_IsInAngle(int16_t X, int16_t Y, int16_t StartAngle, int16_t EndAngle)
{
	int16_t PointAngle;
	PointAngle = atan2(Y, X) / 3.14 * 180;	//čŽĄçŽćĺŽçšçĺź§ĺşŚďźĺšśč˝?ć?ä¸şč?ĺşŚčĄ¨ç¤ş
	if (StartAngle < EndAngle)	//čľˇĺ?č?ĺşŚĺ°äşçťć?˘č?ĺşŚçćĺ?
	{
		/*ĺŚććĺŽč§ĺşŚĺ¨čľˇĺ§çťć­˘č?ĺşŚäšé´ďźĺĺ¤ĺŽćĺŽçšĺ¨ćĺŽč§ĺşŚ*/
		if (PointAngle >= StartAngle && PointAngle <= EndAngle)
		{
			return 1;
		}
	}
	else			//čľˇĺ?č?ĺşŚĺ¤§äşäşçťć­˘č?ĺşŚçćĺ?
	{
		/*ĺŚććĺŽč§ĺşŚĺ¤§äşčľˇĺ?č?ĺşŚćčĺ°äşçťć­˘č?ĺşŚďźĺĺ¤ĺŽćĺŽçšĺ¨ćĺŽč§ĺşŚ*/
		if (PointAngle >= StartAngle || PointAngle <= EndAngle)
		{
			return 1;
		}
	}
	return 0;		//ä¸ćťĄčśłäťĽä¸ćĄäťśďźĺĺ¤ć?ĺ¤ĺŽćĺŽçšä¸ĺ¨ćĺŽč?ĺşŚ
}

void OLED_Update(void)
{
	uint8_t j;
	/*éĺćŻä¸éĄ?*/
	for (j = 0; j < 8; j ++)
	{
		/*čŽžç˝Žĺć ä˝ç˝Žä¸şćŻä¸éĄľççŹ?ä¸ĺ?*/
		OLED_SetCursor(j, 0);
		/*čżçť­ĺĺĽ128ä¸?ć°ćŽďźĺ°ćžĺ­ć°çťçć°ć?ĺĺĽĺ°OLEDçĄ?äť?*/
		OLED_WriteData(OLED_DisplayBuf[j], 128);
	}
}

void OLED_UpdateArea(int16_t X, int16_t Y, uint8_t Width, uint8_t Height)
{
	int16_t j;
	int16_t Page, Page1;

	/*č´ć°ĺć ĺ¨č?ĄçŽéĄľĺ°ĺćśéčŚĺ ä¸ä¸?ĺç§ť*/
	/*(Y + Height - 1) / 8 + 1ççŽçćŻ(Y + Height) / 8ĺšśĺä¸ĺć?*/
	Page = Y / 8;
	Page1 = (Y + Height - 1) / 8 + 1;
	if (Y < 0)
	{
		Page -= 1;
		Page1 -= 1;
	}

	/*éĺćĺŽĺşĺćśĺçç¸ĺłéĄľ*/
	for (j = Page; j < Page1; j ++)
	{
		if (X >= 0 && X <= 127 && j >= 0 && j <= 7)		//čśĺşĺąĺšçĺĺŽšä¸ćžç¤ş
		{
			/*čŽžç˝Žĺć ä˝ç˝Žä¸şç¸ĺłéĄľçćĺŽĺ*/
			OLED_SetCursor(j, X);
			/*čżçť­ĺĺĽWidthä¸?ć°ćŽďźĺ°ćžĺ­ć°çťçć°ć?ĺĺĽĺ°OLEDçĄ?äť?*/
			OLED_WriteData(&OLED_DisplayBuf[j][X], Width);
		}
	}
}

/**
  * ĺ?    ć°ďźĺ°OLEDćžĺ­ć°çťĺ¨é¨ć¸éś
  * ĺ?    ć°ďźć?
  * čż? ĺ? ĺźďźć?
  * čŻ?    ćďźč°ç¨ć­¤ĺ˝ć°ĺďźč?ćłçć?Łĺ°ĺç°ĺ¨ĺąĺšä¸ďźčżéč°ç¨ć´ć°ĺ˝ć°
  */
void OLED_Clear(void)
{
	uint8_t i, j;
	for (j = 0; j < 8; j ++)				//éĺ8éĄ?
	{
		for (i = 0; i < 128; i ++)			//éĺ128ĺ?
		{
			OLED_DisplayBuf[j][i] = 0x00;	//ĺ°ćžĺ­ć°çťć°ć?ĺ¨é¨ć¸éś
		}
	}
}

/**
  * ĺ?    ć°ďźĺ°OLEDćžĺ­ć°çťé¨ĺć¸éś
  * ĺ?    ć°ďźX ćĺŽĺşĺĺˇŚä¸č§çć¨?ĺć ďźčĺ´ďź-32768~32767ďźĺąĺšĺşĺďź0~127
  * ĺ?    ć°ďźY ćĺŽĺşĺĺˇŚä¸č§ççşľĺć ďźčĺ´ďź?-32768~32767ďźĺąĺšĺşĺďź0~63
  * ĺ?    ć°ďźWidth ćĺŽĺşĺçĺ?˝ĺşŚďźčĺ´ďź0~128
  * ĺ?    ć°ďźHeight ćĺŽĺşĺçéŤĺşŚďźčĺ´ďź?0~64
  * čż? ĺ? ĺźďźć?
  * čŻ?    ćďźč°ç¨ć­¤ĺ˝ć°ĺďźč?ćłçć?Łĺ°ĺç°ĺ¨ĺąĺšä¸ďźčżéč°ç¨ć´ć°ĺ˝ć°
  */
void OLED_ClearArea(int16_t X, int16_t Y, uint8_t Width, uint8_t Height)
{
	int16_t i, j;

	for (j = Y; j < Y + Height; j ++)		//éĺćĺŽéĄ?
	{
		for (i = X; i < X + Width; i ++)	//éĺćĺŽĺ?
		{
			if (i >= 0 && i <= 127 && j >=0 && j <= 63)				//čśĺşĺąĺšçĺĺŽšä¸ćžç¤ş
			{
				OLED_DisplayBuf[j / 8][i] &= ~(0x01 << (j % 8));	//ĺ°ćžĺ­ć°çťćĺŽć°ć?ć¸éś
			}
		}
	}
}

/**
  * ĺ?    ć°ďźĺ°OLEDćžĺ­ć°çťĺ¨é¨ĺĺ
  * ĺ?    ć°ďźć?
  * čż? ĺ? ĺźďźć?
  * čŻ?    ćďźč°ç¨ć­¤ĺ˝ć°ĺďźč?ćłçć?Łĺ°ĺç°ĺ¨ĺąĺšä¸ďźčżéč°ç¨ć´ć°ĺ˝ć°
  */
void OLED_Reverse(void)
{
	uint8_t i, j;
	for (j = 0; j < 8; j ++)				//éĺ8éĄ?
	{
		for (i = 0; i < 128; i ++)			//éĺ128ĺ?
		{
			OLED_DisplayBuf[j][i] ^= 0xFF;	//ĺ°ćžĺ­ć°çťć°ć?ĺ¨é¨ĺĺ
		}
	}
}

/**
  * ĺ?    ć°ďźĺ°OLEDćžĺ­ć°çťé¨ĺĺĺ
  * ĺ?    ć°ďźX ćĺŽĺşĺĺˇŚä¸č§çć¨?ĺć ďźčĺ´ďź-32768~32767ďźĺąĺšĺşĺďź0~127
  * ĺ?    ć°ďźY ćĺŽĺşĺĺˇŚä¸č§ççşľĺć ďźčĺ´ďź?-32768~32767ďźĺąĺšĺşĺďź0~63
  * ĺ?    ć°ďźWidth ćĺŽĺşĺçĺ?˝ĺşŚďźčĺ´ďź0~128
  * ĺ?    ć°ďźHeight ćĺŽĺşĺçéŤĺşŚďźčĺ´ďź?0~64
  * čż? ĺ? ĺźďźć?
  * čŻ?    ćďźč°ç¨ć­¤ĺ˝ć°ĺďźč?ćłçć?Łĺ°ĺç°ĺ¨ĺąĺšä¸ďźčżéč°ç¨ć´ć°ĺ˝ć°
  */
void OLED_ReverseArea(int16_t X, int16_t Y, uint8_t Width, uint8_t Height)
{
	int16_t i, j;

	for (j = Y; j < Y + Height; j ++)		//éĺćĺŽéĄ?
	{
		for (i = X; i < X + Width; i ++)	//éĺćĺŽĺ?
		{
			if (i >= 0 && i <= 127 && j >=0 && j <= 63)			//čśĺşĺąĺšçĺĺŽšä¸ćžç¤ş
			{
				OLED_DisplayBuf[j / 8][i] ^= 0x01 << (j % 8);	//ĺ°ćžĺ­ć°çťćĺŽć°ć?ĺĺ
			}
		}
	}
}

/**
  * ĺ?    ć°ďźOLEDćžç¤şä¸ä¸?ĺ­ç??
  * ĺ?    ć°ďźX ćĺŽĺ­ç?ŚĺˇŚä¸č?çć¨?ĺć ďźčĺ´ďź-32768~32767ďźĺąĺšĺşĺďź0~127
  * ĺ?    ć°ďźY ćĺŽĺ­ç?ŚĺˇŚä¸č?ççşľĺć ďźčĺ´ďź?-32768~32767ďźĺąĺšĺşĺďź0~63
  * ĺ?    ć°ďźChar ćĺŽčŚćžç¤şçĺ­ç?Śďźčĺ´ďźASCIIç ĺŻč§ĺ­çŹ?
  * ĺ?    ć°ďźFontSize ćĺŽĺ­ä˝ĺ¤§ĺ°
  *           čĺ´ďźOLED_8X16		ĺŽ?8ĺç´ ďźéŤ16ĺç´ 
  *                 OLED_6X8		ĺŽ?6ĺç´ ďźéŤ8ĺç´ 
  * čż? ĺ? ĺźďźć?
  * čŻ?    ćďźč°ç¨ć­¤ĺ˝ć°ĺďźč?ćłçć?Łĺ°ĺç°ĺ¨ĺąĺšä¸ďźčżéč°ç¨ć´ć°ĺ˝ć°
  */
void OLED_ShowChar(int16_t X, int16_t Y, char Char, uint8_t FontSize)
{
	if (FontSize == OLED_8X16)		//ĺ­ä˝ä¸şĺ??8ĺç´ ďźéŤ16ĺç´ 
	{
		/*ĺ°ASCIIĺ­ć¨ĄĺşOLED_F8x16çćĺŽć°ć?äť?8*16çĺžĺć źĺźćžç¤?*/
		OLED_ShowImage(X, Y, 8, 16, OLED_F8x16[Char - ' ']);
	}
	else if(FontSize == OLED_6X8)	//ĺ­ä˝ä¸şĺ??6ĺç´ ďźéŤ8ĺç´ 
	{
		/*ĺ°ASCIIĺ­ć¨ĄĺşOLED_F6x8çćĺŽć°ć?äť?6*8çĺžĺć źĺźćžç¤?*/
		OLED_ShowImage(X, Y, 6, 8, OLED_F6x8[Char - ' ']);
	}
}

/**
  * ĺ?    ć°ďźOLEDćžç¤şĺ­ç?Śä¸˛
  * ĺ?    ć°ďźX ćĺŽĺ­ç?Śä¸˛ĺˇŚä¸č§çć¨?ĺć ďźčĺ´ďź-32768~32767ďźĺąĺšĺşĺďź0~127
  * ĺ?    ć°ďźY ćĺŽĺ­ç?Śä¸˛ĺˇŚä¸č§ççşľĺć ďźčĺ´ďź?-32768~32767ďźĺąĺšĺşĺďź0~63
  * ĺ?    ć°ďźString ćĺŽčŚćžç¤şçĺ­ç?Śä¸˛ďźčĺ´ďźASCIIç ĺŻč§ĺ­çŹŚçťćçĺ­ç?Śä¸˛
  * ĺ?    ć°ďźFontSize ćĺŽĺ­ä˝ĺ¤§ĺ°
  *           čĺ´ďźOLED_8X16		ĺŽ?8ĺç´ ďźéŤ16ĺç´ 
  *                 OLED_6X8		ĺŽ?6ĺç´ ďźéŤ8ĺç´ 
  * čż? ĺ? ĺźďźć?
  * čŻ?    ćďźč°ç¨ć­¤ĺ˝ć°ĺďźč?ćłçć?Łĺ°ĺç°ĺ¨ĺąĺšä¸ďźčżéč°ç¨ć´ć°ĺ˝ć°
  */
void OLED_ShowString(int16_t X, int16_t Y, char *String, uint8_t FontSize)
{
	uint8_t i;
	for (i = 0; String[i] != '\0'; i++)		//éĺĺ­ç?Śä¸˛çćŻä¸?ĺ­ç??
	{
		/*č°ç¨OLED_ShowCharĺ˝ć°ďźäžćŹĄćžç¤şćŻä¸?ĺ­ç??*/
		OLED_ShowChar(X + i * FontSize, Y, String[i], FontSize);
	}
}

/**
  * ĺ?    ć°ďźOLEDćžç¤şć°ĺ­ďźĺčżĺśďźć?Łć´ć°ďź
  * ĺ?    ć°ďźX ćĺŽć°ĺ­ĺˇŚä¸č§çć¨?ĺć ďźčĺ´ďź-32768~32767ďźĺąĺšĺşĺďź0~127
  * ĺ?    ć°ďźY ćĺŽć°ĺ­ĺˇŚä¸č§ççşľĺć ďźčĺ´ďź?-32768~32767ďźĺąĺšĺşĺďź0~63
  * ĺ?    ć°ďźNumber ćĺŽčŚćžç¤şçć°ĺ­ďźčĺ´ďź0~4294967295
  * ĺ?    ć°ďźLength ćĺŽć°ĺ­çéżĺşŚďźčĺ´ďź?0~10
  * ĺ?    ć°ďźFontSize ćĺŽĺ­ä˝ĺ¤§ĺ°
  *           čĺ´ďźOLED_8X16		ĺŽ?8ĺç´ ďźéŤ16ĺç´ 
  *                 OLED_6X8		ĺŽ?6ĺç´ ďźéŤ8ĺç´ 
  * čż? ĺ? ĺźďźć?
  * čŻ?    ćďźč°ç¨ć­¤ĺ˝ć°ĺďźč?ćłçć?Łĺ°ĺç°ĺ¨ĺąĺšä¸ďźčżéč°ç¨ć´ć°ĺ˝ć°
  */
void OLED_ShowNum(int16_t X, int16_t Y, uint32_t Number, uint8_t Length, uint8_t FontSize)
{
	uint8_t i;
	for (i = 0; i < Length; i++)		//éĺć°ĺ­çćŻä¸ä˝?
	{
		/*č°ç¨OLED_ShowCharĺ˝ć°ďźäžćŹĄćžç¤şćŻä¸?ć°ĺ­*/
		/*Number / OLED_Pow(10, Length - i - 1) % 10 ĺ?äťĽĺčżĺśćĺć°ĺ­çćŻä¸ä˝?*/
		/*+ '0' ĺ?ĺ°ć°ĺ­č˝Źć?ä¸şĺ­çŹŚć źĺź?*/
		OLED_ShowChar(X + i * FontSize, Y, Number / OLED_Pow(10, Length - i - 1) % 10 + '0', FontSize);
	}
}

/**
  * ĺ?    ć°ďźOLEDćžç¤şćç?Śĺˇć°ĺ­ďźĺčżĺśďźć´ć°ďź
  * ĺ?    ć°ďźX ćĺŽć°ĺ­ĺˇŚä¸č§çć¨?ĺć ďźčĺ´ďź-32768~32767ďźĺąĺšĺşĺďź0~127
  * ĺ?    ć°ďźY ćĺŽć°ĺ­ĺˇŚä¸č§ççşľĺć ďźčĺ´ďź?-32768~32767ďźĺąĺšĺşĺďź0~63
  * ĺ?    ć°ďźNumber ćĺŽčŚćžç¤şçć°ĺ­ďźčĺ´ďź-2147483648~2147483647
  * ĺ?    ć°ďźLength ćĺŽć°ĺ­çéżĺşŚďźčĺ´ďź?0~10
  * ĺ?    ć°ďźFontSize ćĺŽĺ­ä˝ĺ¤§ĺ°
  *           čĺ´ďźOLED_8X16		ĺŽ?8ĺç´ ďźéŤ16ĺç´ 
  *                 OLED_6X8		ĺŽ?6ĺç´ ďźéŤ8ĺç´ 
  * čż? ĺ? ĺźďźć?
  * čŻ?    ćďźč°ç¨ć­¤ĺ˝ć°ĺďźč?ćłçć?Łĺ°ĺç°ĺ¨ĺąĺšä¸ďźčżéč°ç¨ć´ć°ĺ˝ć°
  */
void OLED_ShowSignedNum(int16_t X, int16_t Y, int32_t Number, uint8_t Length, uint8_t FontSize)
{
	uint8_t i;
	uint32_t Number1;

	if (Number >= 0)						//ć°ĺ­ĺ¤§äşç­äş0
	{
		OLED_ShowChar(X, Y, '+', FontSize);	//ćžç¤ş+ĺ?
		Number1 = Number;					//Number1ç´ćĽç­äşNumber
	}
	else									//ć°ĺ­ĺ°äş0
	{
		OLED_ShowChar(X, Y, '-', FontSize);	//ćžç¤ş-ĺ?
		Number1 = -Number;					//Number1ç­äşNumberĺč´
	}

	for (i = 0; i < Length; i++)			//éĺć°ĺ­çćŻä¸ä˝?
	{
		/*č°ç¨OLED_ShowCharĺ˝ć°ďźäžćŹĄćžç¤şćŻä¸?ć°ĺ­*/
		/*Number1 / OLED_Pow(10, Length - i - 1) % 10 ĺ?äťĽĺčżĺśćĺć°ĺ­çćŻä¸ä˝?*/
		/*+ '0' ĺ?ĺ°ć°ĺ­č˝Źć?ä¸şĺ­çŹŚć źĺź?*/
		OLED_ShowChar(X + (i + 1) * FontSize, Y, Number1 / OLED_Pow(10, Length - i - 1) % 10 + '0', FontSize);
	}
}

/**
  * ĺ?    ć°ďźOLEDćžç¤şĺĺ­čżĺść°ĺ­ďźĺĺ?čżĺśďźć?Łć´ć°ďź
  * ĺ?    ć°ďźX ćĺŽć°ĺ­ĺˇŚä¸č§çć¨?ĺć ďźčĺ´ďź-32768~32767ďźĺąĺšĺşĺďź0~127
  * ĺ?    ć°ďźY ćĺŽć°ĺ­ĺˇŚä¸č§ççşľĺć ďźčĺ´ďź?-32768~32767ďźĺąĺšĺşĺďź0~63
  * ĺ?    ć°ďźNumber ćĺŽčŚćžç¤şçć°ĺ­ďźčĺ´ďź0x00000000~0xFFFFFFFF
  * ĺ?    ć°ďźLength ćĺŽć°ĺ­çéżĺşŚďźčĺ´ďź?0~8
  * ĺ?    ć°ďźFontSize ćĺŽĺ­ä˝ĺ¤§ĺ°
  *           čĺ´ďźOLED_8X16		ĺŽ?8ĺç´ ďźéŤ16ĺç´ 
  *                 OLED_6X8		ĺŽ?6ĺç´ ďźéŤ8ĺç´ 
  * čż? ĺ? ĺźďźć?
  * čŻ?    ćďźč°ç¨ć­¤ĺ˝ć°ĺďźč?ćłçć?Łĺ°ĺç°ĺ¨ĺąĺšä¸ďźčżéč°ç¨ć´ć°ĺ˝ć°
  */
void OLED_ShowHexNum(int16_t X, int16_t Y, uint32_t Number, uint8_t Length, uint8_t FontSize)
{
	uint8_t i, SingleNumber;
	for (i = 0; i < Length; i++)		//éĺć°ĺ­çćŻä¸ä˝?
	{
		/*äťĽĺĺ?čżĺśćĺć°ĺ­çćŻä¸ä˝?*/
		SingleNumber = Number / OLED_Pow(16, Length - i - 1) % 16;

		if (SingleNumber < 10)			//ĺä¸Şć°ĺ­ĺ°äş10
		{
			/*č°ç¨OLED_ShowCharĺ˝ć°ďźćžç¤şć?¤ć°ĺ­?*/
			/*+ '0' ĺ?ĺ°ć°ĺ­č˝Źć?ä¸şĺ­çŹŚć źĺź?*/
			OLED_ShowChar(X + i * FontSize, Y, SingleNumber + '0', FontSize);
		}
		else							//ĺä¸Şć°ĺ­ĺ¤§äş10
		{
			/*č°ç¨OLED_ShowCharĺ˝ć°ďźćžç¤şć?¤ć°ĺ­?*/
			/*+ 'A' ĺ?ĺ°ć°ĺ­č˝Źć?ä¸şäťAĺźĺ§çĺĺ­čżĺśĺ­ç??*/
			OLED_ShowChar(X + i * FontSize, Y, SingleNumber - 10 + 'A', FontSize);
		}
	}
}

/**
  * ĺ?    ć°ďźOLEDćžç¤şäşčżĺść°ĺ­ďźäşčżĺśďźć­Łć´ć°ďź
  * ĺ?    ć°ďźX ćĺŽć°ĺ­ĺˇŚä¸č§çć¨?ĺć ďźčĺ´ďź-32768~32767ďźĺąĺšĺşĺďź0~127
  * ĺ?    ć°ďźY ćĺŽć°ĺ­ĺˇŚä¸č§ççşľĺć ďźčĺ´ďź?-32768~32767ďźĺąĺšĺşĺďź0~63
  * ĺ?    ć°ďźNumber ćĺŽčŚćžç¤şçć°ĺ­ďźčĺ´ďź0x00000000~0xFFFFFFFF
  * ĺ?    ć°ďźLength ćĺŽć°ĺ­çéżĺşŚďźčĺ´ďź?0~16
  * ĺ?    ć°ďźFontSize ćĺŽĺ­ä˝ĺ¤§ĺ°
  *           čĺ´ďźOLED_8X16		ĺŽ?8ĺç´ ďźéŤ16ĺç´ 
  *                 OLED_6X8		ĺŽ?6ĺç´ ďźéŤ8ĺç´ 
  * čż? ĺ? ĺźďźć?
  * čŻ?    ćďźč°ç¨ć­¤ĺ˝ć°ĺďźč?ćłçć?Łĺ°ĺç°ĺ¨ĺąĺšä¸ďźčżéč°ç¨ć´ć°ĺ˝ć°
  */
void OLED_ShowBinNum(int16_t X, int16_t Y, uint32_t Number, uint8_t Length, uint8_t FontSize)
{
	uint8_t i;
	for (i = 0; i < Length; i++)		//éĺć°ĺ­çćŻä¸ä˝?
	{
		/*č°ç¨OLED_ShowCharĺ˝ć°ďźäžćŹĄćžç¤şćŻä¸?ć°ĺ­*/
		/*Number / OLED_Pow(2, Length - i - 1) % 2 ĺ?äťĽäşčżĺśćĺć°ĺ­çćŻä¸ä˝?*/
		/*+ '0' ĺ?ĺ°ć°ĺ­č˝Źć?ä¸şĺ­çŹŚć źĺź?*/
		OLED_ShowChar(X + i * FontSize, Y, Number / OLED_Pow(2, Length - i - 1) % 2 + '0', FontSize);
	}
}

/**
  * ĺ?    ć°ďźOLEDćžç¤şćľ?çšć°ĺ­ďźĺčżĺśďźĺ°ć°ďź?
  * ĺ?    ć°ďźX ćĺŽć°ĺ­ĺˇŚä¸č§çć¨?ĺć ďźčĺ´ďź-32768~32767ďźĺąĺšĺşĺďź0~127
  * ĺ?    ć°ďźY ćĺŽć°ĺ­ĺˇŚä¸č§ççşľĺć ďźčĺ´ďź?-32768~32767ďźĺąĺšĺşĺďź0~63
  * ĺ?    ć°ďźNumber ćĺŽčŚćžç¤şçć°ĺ­ďźčĺ´ďź-4294967295.0~4294967295.0
  * ĺ?    ć°ďźIntLength ćĺŽć°ĺ­çć´ć°ä˝éżĺşŚďźčĺ´ďź0~10
  * ĺ?    ć°ďźFraLength ćĺŽć°ĺ­çĺ°ć°ä˝éżĺşŚďźčĺ´ďź0~9ďźĺ°ć°čżčĄĺčäşĺĽćžç¤?
  * ĺ?    ć°ďźFontSize ćĺŽĺ­ä˝ĺ¤§ĺ°
  *           čĺ´ďźOLED_8X16		ĺŽ?8ĺç´ ďźéŤ16ĺç´ 
  *                 OLED_6X8		ĺŽ?6ĺç´ ďźéŤ8ĺç´ 
  * čż? ĺ? ĺźďźć?
  * čŻ?    ćďźč°ç¨ć­¤ĺ˝ć°ĺďźč?ćłçć?Łĺ°ĺç°ĺ¨ĺąĺšä¸ďźčżéč°ç¨ć´ć°ĺ˝ć°
  */
void OLED_ShowFloatNum(int16_t X, int16_t Y, double Number, uint8_t IntLength, uint8_t FraLength, uint8_t FontSize)
{
	uint32_t PowNum, IntNum, FraNum;

	if (Number >= 0)						//ć°ĺ­ĺ¤§äşç­äş0
	{
		OLED_ShowChar(X, Y, '+', FontSize);	//ćžç¤ş+ĺ?
	}
	else									//ć°ĺ­ĺ°äş0
	{
		OLED_ShowChar(X, Y, '-', FontSize);	//ćžç¤ş-ĺ?
		Number = -Number;					//Numberĺč´
	}

	/*ćĺć´ć°é¨ĺĺĺ°ć°é¨ĺ?*/
	IntNum = Number;						//ç´ćĽčľĺźçťć´ĺĺéďźćĺć´ć?
	Number -= IntNum;						//ĺ°Numberçć´ć°ĺćďźé˛ć??äšĺĺ°ĺ°ć°äšĺ°ć´ć°ćśĺ ć°čżĺ¤§é ćéč??
	PowNum = OLED_Pow(10, FraLength);		//ć šćŽćĺŽĺ°ć°çä˝ć°ďźçĄ?ĺŽäšć?
	FraNum = round(Number * PowNum);		//ĺ°ĺ°ć°äšĺ°ć´ć°ďźĺćśĺčäşĺĽďźéżĺćžç¤şč??ĺˇ?
	IntNum += FraNum / PowNum;				//čĽĺčäşĺĽé ćäşčżä˝ďźĺéčŚĺĺ çťć´ć°

	OLED_ShowNum(X + FontSize, Y, IntNum, IntLength, FontSize);

	OLED_ShowChar(X + (IntLength + 1) * FontSize, Y, '.', FontSize);

	OLED_ShowNum(X + (IntLength + 2) * FontSize, Y, FraNum, FraLength, FontSize);
}
//(X_position , Y_position , Chinese)
void OLED_ShowChinese(int16_t X, int16_t Y, char *Chinese)
{
	uint8_t pChinese = 0;
	uint8_t pIndex;
	uint8_t i;
	char SingleChinese[OLED_CHN_CHAR_WIDTH + 1] = {0};

	for (i = 0; Chinese[i] != '\0'; i ++)		//éĺćąĺ­ä¸?
	{
		SingleChinese[pChinese] = Chinese[i];	//ćĺćąĺ­ä¸˛ć°ć?ĺ°ĺä¸?ćąĺ­ć°çť
		pChinese ++;							//čŽĄć?ĄčŞĺ˘?

		/*ĺ˝ćĺć?Ąć°ĺ°čžžOLED_CHN_CHAR_WIDTHćśďźĺłäťŁčĄ¨ćĺĺ°äşä¸ä¸?ĺŽć´çćąĺ­?*/
		if (pChinese >= OLED_CHN_CHAR_WIDTH)
		{
			pChinese = 0;		//čŽĄć?Ąĺ˝é?

			/*éĺć´ä¸Şćąĺ­ĺ­ć¨ĄĺşďźĺŻťćžĺšéçćąĺ­?*/
			/*ĺŚććžĺ°ćĺä¸ä¸?ćąĺ­ďźĺŽäšä¸şçŠşĺ­çŹŚä¸˛ďźďźĺčĄ¨ç¤şćąĺ­ćŞĺ¨ĺ­ć¨ĄĺşĺŽäšďźĺć­˘ĺ?ťćž*/
			for (pIndex = 0; strcmp(OLED_CF16x16[pIndex].Index, "") != 0; pIndex ++)
			{
				/*ćžĺ°ĺšéçćąĺ­?*/
				if (strcmp(OLED_CF16x16[pIndex].Index, SingleChinese) == 0)
				{
					break;		//čˇłĺşĺž?ç?ďźć?¤ćśpIndexçĺźä¸şćĺŽćąĺ­çç´˘ĺź?
				}
			}

			/*ĺ°ćąĺ­ĺ­ć¨ĄĺşOLED_CF16x16çćĺŽć°ć?äť?16*16çĺžĺć źĺźćžç¤?*/
			OLED_ShowImage(X + ((i + 1) / OLED_CHN_CHAR_WIDTH - 1) * 16, Y, 16, 16, OLED_CF16x16[pIndex].Data);
		}
	}
}
//(X_posotion , Y_position , image_Width , image_Height , Image_array[])
void OLED_ShowImage(int16_t X, int16_t Y, uint8_t Width, uint8_t Height, const uint8_t *Image)
{
	uint8_t i = 0, j = 0;
	int16_t Page, Shift;

	/*ĺ°ĺžĺćĺ¨ĺşĺć¸çŠ?*/
	OLED_ClearArea(X, Y, Width, Height);

	/*éĺćĺŽĺžĺćśĺçç¸ĺłéĄľ*/
	/*(Height - 1) / 8 + 1ççŽçćŻHeight / 8ĺšśĺä¸ĺć?*/
	for (j = 0; j < (Height - 1) / 8 + 1; j ++)
	{
		/*éĺćĺŽĺžĺćśĺçç¸ĺłĺ*/
		for (i = 0; i < Width; i ++)
		{
			if (X + i >= 0 && X + i <= 127)		//čśĺşĺąĺšçĺĺŽšä¸ćžç¤ş
			{
				/*č´ć°ĺć ĺ¨č?ĄçŽéĄľĺ°ĺĺç§ťä˝ćśéčŚĺ ä¸ä¸?ĺç§ť*/
				Page = Y / 8;
				Shift = Y % 8;
				if (Y < 0)
				{
					Page -= 1;
					Shift += 8;
				}

				if (Page + j >= 0 && Page + j <= 7)		//čśĺşĺąĺšçĺĺŽšä¸ćžç¤ş
				{
					/*ćžç¤şĺžĺĺ¨ĺ˝ĺéĄľçĺĺŽ?*/
					OLED_DisplayBuf[Page + j][X + i] |= Image[j * Width + i] << (Shift);
				}

				if (Page + j + 1 >= 0 && Page + j + 1 <= 7)		//čśĺşĺąĺšçĺĺŽšä¸ćžç¤ş
				{
					/*ćžç¤şĺžĺĺ¨ä¸ä¸éĄľçĺĺ??*/
					OLED_DisplayBuf[Page + j + 1][X + i] |= Image[j * Width + i] >> (8 - Shift);
				}
			}
		}
	}
}
/*
X position
Y pisition
FontSize OLED6X8,OLED8X16
type{%d(integer),%s(String),%f(float),%c(char),%o(8),%x(10)}
depend on your type
*/
void OLED_Printf(int16_t X, int16_t Y, uint8_t FontSize, char *format, ...)
{
	char String[256];
	va_list arg;
	va_start(arg, format);
	vsprintf(String, format, arg);
	va_end(arg);
	OLED_ShowString(X, Y, String, FontSize);
}

/**
  * ĺ?    ć°ďźOLEDĺ¨ćĺŽä˝ç˝?çťä¸ä¸?ç?
  * ĺ?    ć°ďźX ćĺŽçšçć¨?ĺć ďźčĺ´ďź-32768~32767ďźĺąĺšĺşĺďź0~127
  * ĺ?    ć°ďźY ćĺŽçšççşľĺć ďźčĺ´ďź?-32768~32767ďźĺąĺšĺşĺďź0~63
  * čż? ĺ? ĺźďźć?
  * čŻ?    ćďźč°ç¨ć­¤ĺ˝ć°ĺďźč?ćłçć?Łĺ°ĺç°ĺ¨ĺąĺšä¸ďźčżéč°ç¨ć´ć°ĺ˝ć°
  */
void OLED_DrawPoint(int16_t X, int16_t Y)
{
	if (X >= 0 && X <= 127 && Y >=0 && Y <= 63)		//čśĺşĺąĺšçĺĺŽšä¸ćžç¤ş
	{
		/*ĺ°ćžĺ­ć°çťćĺŽä˝ç˝?çä¸ä¸ŞBitć°ćŽç˝?1*/
		OLED_DisplayBuf[Y / 8][X] |= 0x01 << (Y % 8);
	}
}

/**
  * ĺ?    ć°ďźOLEDčˇĺćĺŽä˝ç˝Žçšçĺ?
  * ĺ?    ć°ďźX ćĺŽçšçć¨?ĺć ďźčĺ´ďź-32768~32767ďźĺąĺšĺşĺďź0~127
  * ĺ?    ć°ďźY ćĺŽçšççşľĺć ďźčĺ´ďź?-32768~32767ďźĺąĺšĺşĺďź0~63
  * čż? ĺ? ĺźďźćĺŽä˝ç˝ŽçšćŻĺŚĺ?äşçšäşŽçśćďź1ďźçšäş?ďź?0ďźçç?
  */
uint8_t OLED_GetPoint(int16_t X, int16_t Y)
{
	if (X >= 0 && X <= 127 && Y >=0 && Y <= 63)		//čśĺşĺąĺšçĺĺŽšä¸čŻťĺ
	{
		/*ĺ¤ć­ćĺŽä˝ç˝Žçć°ć?*/
		if (OLED_DisplayBuf[Y / 8][X] & 0x01 << (Y % 8))
		{
			return 1;	//ä¸?1ďźčżĺ?1
		}
	}

	return 0;		//ĺŚĺďźčżĺ?0
}

/**
  * ĺ?    ć°ďźOLEDçťçşż
  * ĺ?    ć°ďźX0 ćĺŽä¸ä¸?çŤ?çšçć¨?ĺć ďźčĺ´ďź-32768~32767ďźĺąĺšĺşĺďź0~127
  * ĺ?    ć°ďźY0 ćĺŽä¸ä¸?çŤ?çšççşľĺć ďźčĺ´ďź?-32768~32767ďźĺąĺšĺşĺďź0~63
  * ĺ?    ć°ďźX1 ćĺŽĺŚä¸ä¸?çŤ?çšçć¨?ĺć ďźčĺ´ďź-32768~32767ďźĺąĺšĺşĺďź0~127
  * ĺ?    ć°ďźY1 ćĺŽĺŚä¸ä¸?çŤ?çšççşľĺć ďźčĺ´ďź?-32768~32767ďźĺąĺšĺşĺďź0~63
  * čż? ĺ? ĺźďźć?
  * čŻ?    ćďźč°ç¨ć­¤ĺ˝ć°ĺďźč?ćłçć?Łĺ°ĺç°ĺ¨ĺąĺšä¸ďźčżéč°ç¨ć´ć°ĺ˝ć°
  */
void OLED_DrawLine(int16_t X0, int16_t Y0, int16_t X1, int16_t Y1)
{
	int16_t x, y, dx, dy, d, incrE, incrNE, temp;
	int16_t x0 = X0, y0 = Y0, x1 = X1, y1 = Y1;
	uint8_t yflag = 0, xyflag = 0;

	if (y0 == y1)		//ć¨?çşżĺç?ĺ¤ç
	{
		/*0ĺˇçšXĺć ĺ¤§äş1ĺˇçšXĺć ďźĺäş¤ć˘ä¸¤çšXĺć */
		if (x0 > x1) {temp = x0; x0 = x1; x1 = temp;}

		/*éĺXĺć */
		for (x = x0; x <= x1; x ++)
		{
			OLED_DrawPoint(x, y0);	//äžć?Ąçťç?
		}
	}
	else if (x0 == x1)	//çŤçşżĺçŹĺ¤ç
	{
		/*0ĺˇçšYĺć ĺ¤§äş1ĺˇçšYĺć ďźĺäş¤ć˘ä¸¤çšYĺć */
		if (y0 > y1) {temp = y0; y0 = y1; y1 = temp;}

		/*éĺYĺć */
		for (y = y0; y <= y1; y ++)
		{
			OLED_DrawPoint(x0, y);	//äžć?Ąçťç?
		}
	}
	else				//ćçşż
	{
		/*ä˝żç¨BresenhamçŽćłçťç´çşżďźĺ?äťĽéżĺčćśçćľŽçščżçŽďźćçć´éŤ*/
		/*ĺčććĄŁďźhttps://www.cs.montana.edu/courses/spring2009/425/dslectures/Bresenham.pdf*/
		/*ĺčćç¨ďźhttps://www.bilibili.com/video/BV1364y1d7Lo*/

		if (x0 > x1)	//0ĺˇçšXĺć ĺ¤§äş1ĺˇçšXĺć 
		{
			/*äş¤ć˘ä¸¤çšĺć */
			/*äş¤ć˘ĺä¸ĺ˝ąĺçťçşżďźä˝ć?çťçşżćšĺçąç??ä¸ăäşăä¸ăĺčąĄéĺä¸şçŹ?ä¸ăĺčąĄé*/
			temp = x0; x0 = x1; x1 = temp;
			temp = y0; y0 = y1; y1 = temp;
		}

		if (y0 > y1)	//0ĺˇçšYĺć ĺ¤§äş1ĺˇçšYĺć 
		{
			/*ĺ°Yĺć ĺč´*/
			/*ĺč´ĺĺ˝ąĺçťçşżďźä˝ćŻçťçşżćšĺçąç??ä¸ăĺčąĄéĺä¸şçŹ?ä¸čąĄé*/
			y0 = -y0;
			y1 = -y1;

			/*ç˝?ć ĺżä˝yflagďźč?°ä˝ĺ˝ĺĺć˘ďźĺ¨ĺçť­ĺŽéçťçşżćśďźĺĺ°ĺć ć˘ĺć?*/
			yflag = 1;
		}

		if (y1 - y0 > x1 - x0)	//çťçşżćçĺ¤§äş1
		{
			/*ĺ°Xĺć ä¸Yĺć äşć˘*/
			/*äşć˘ĺĺ˝ąĺçťçşżďźä˝ćŻçťçşżćšĺçąç??ä¸čąĄé0~90ĺşŚčĺ´ĺä¸şç??ä¸čąĄé0~45ĺşŚčĺ?*/
			temp = x0; x0 = y0; y0 = temp;
			temp = x1; x1 = y1; y1 = temp;

			/*ç˝?ć ĺżä˝xyflagďźč?°ä˝ĺ˝ĺĺć˘ďźĺ¨ĺçť­ĺŽéçťçşżćśďźĺĺ°ĺć ć˘ĺć?*/
			xyflag = 1;
		}

		/*äťĽä¸ä¸şBresenhamçŽćłçťç´çş?*/
		/*çŽćłčŚćąďźçťçşżćšĺĺżéĄťä¸şçŹ?ä¸čąĄé0~45ĺşŚčĺ?*/
		dx = x1 - x0;
		dy = y1 - y0;
		incrE = 2 * dy;
		incrNE = 2 * (dy - dx);
		d = 2 * dy - dx;
		x = x0;
		y = y0;

		/*çťčľˇĺ§çšďźĺćśĺ¤ć?ć ĺżä˝ďźĺ°ĺć ć˘ĺćĽ*/
		if (yflag && xyflag){OLED_DrawPoint(y, -x);}
		else if (yflag)		{OLED_DrawPoint(x, -y);}
		else if (xyflag)	{OLED_DrawPoint(y, x);}
		else				{OLED_DrawPoint(x, y);}

		while (x < x1)		//éĺXč˝´çćŻä¸Şç?
		{
			x ++;
			if (d < 0)		//ä¸ä¸ä¸?çšĺ¨ĺ˝ĺçšä¸ć?
			{
				d += incrE;
			}
			else			//ä¸ä¸ä¸?çšĺ¨ĺ˝ĺçšä¸ĺćš
			{
				y ++;
				d += incrNE;
			}

			/*çťćŻä¸ä¸?çšďźĺćśĺ¤ć­ć ĺżä˝ďźĺ°ĺć ć˘ĺćĽ*/
			if (yflag && xyflag){OLED_DrawPoint(y, -x);}
			else if (yflag)		{OLED_DrawPoint(x, -y);}
			else if (xyflag)	{OLED_DrawPoint(y, x);}
			else				{OLED_DrawPoint(x, y);}
		}
	}
}

/**
  * ĺ?    ć°ďźOLEDçŠĺ˝˘
  * ĺ?    ć°ďźX ćĺŽçŠĺ˝˘ĺˇŚä¸č§çć¨?ĺć ďźčĺ´ďź-32768~32767ďźĺąĺšĺşĺďź0~127
  * ĺ?    ć°ďźY ćĺŽçŠĺ˝˘ĺˇŚä¸č§ççşľĺć ďźčĺ´ďź?-32768~32767ďźĺąĺšĺşĺďź0~63
  * ĺ?    ć°ďźWidth ćĺŽçŠĺ˝˘çĺ?˝ĺşŚďźčĺ´ďź0~128
  * ĺ?    ć°ďźHeight ćĺŽçŠĺ˝˘çéŤĺşŚďźčĺ´ďź?0~64
  * ĺ?    ć°ďźIsFilled ćĺŽçŠĺ˝˘ć?ĺŚĺĄŤĺ?
  *           čĺ´ďźOLED_UNFILLED		ä¸ĺĄŤĺ?
  *                 OLED_FILLED			ĺĄ?ĺ?
  * čż? ĺ? ĺźďźć?
  * čŻ?    ćďźč°ç¨ć­¤ĺ˝ć°ĺďźč?ćłçć?Łĺ°ĺç°ĺ¨ĺąĺšä¸ďźčżéč°ç¨ć´ć°ĺ˝ć°
  */
void OLED_DrawRectangle(int16_t X, int16_t Y, uint8_t Width, uint8_t Height, uint8_t IsFilled)
{
	int16_t i, j;
	if (!IsFilled)		//ćĺŽçŠĺ˝˘ä¸ĺĄŤĺ?
	{
		/*éĺä¸ä¸Xĺć ďźçťçŠĺ˝˘ä¸ä¸ä¸¤ćĄçş?*/
		for (i = X; i < X + Width; i ++)
		{
			OLED_DrawPoint(i, Y);
			OLED_DrawPoint(i, Y + Height - 1);
		}
		/*éĺĺˇŚĺłYĺć ďźçťçŠĺ˝˘ĺˇŚĺłä¸¤ćĄçş?*/
		for (i = Y; i < Y + Height; i ++)
		{
			OLED_DrawPoint(X, i);
			OLED_DrawPoint(X + Width - 1, i);
		}
	}
	else				//ćĺŽçŠĺ˝˘ĺĄ?ĺ?
	{
		/*éĺXĺć */
		for (i = X; i < X + Width; i ++)
		{
			/*éĺYĺć */
			for (j = Y; j < Y + Height; j ++)
			{
				/*ĺ¨ćĺŽĺşĺçťçšďźĺĄ?ĺćťĄçŠĺ˝˘*/
				OLED_DrawPoint(i, j);
			}
		}
	}
}

/**
  * ĺ?    ć°ďźOLEDä¸č?ĺ˝˘
  * ĺ?    ć°ďźX0 ćĺŽçŹ?ä¸ä¸?çŤ?çšçć¨?ĺć ďźčĺ´ďź-32768~32767ďźĺąĺšĺşĺďź0~127
  * ĺ?    ć°ďźY0 ćĺŽçŹ?ä¸ä¸?çŤ?çšççşľĺć ďźčĺ´ďź?-32768~32767ďźĺąĺšĺşĺďź0~63
  * ĺ?    ć°ďźX1 ćĺŽçŹ?äşä¸ŞçŤ?çšçć¨?ĺć ďźčĺ´ďź-32768~32767ďźĺąĺšĺşĺďź0~127
  * ĺ?    ć°ďźY1 ćĺŽçŹ?äşä¸ŞçŤ?çšççşľĺć ďźčĺ´ďź?-32768~32767ďźĺąĺšĺşĺďź0~63
  * ĺ?    ć°ďźX2 ćĺŽçŹ?ä¸ä¸ŞçŤ?çšçć¨?ĺć ďźčĺ´ďź-32768~32767ďźĺąĺšĺşĺďź0~127
  * ĺ?    ć°ďźY2 ćĺŽçŹ?ä¸ä¸ŞçŤ?çšççşľĺć ďźčĺ´ďź?-32768~32767ďźĺąĺšĺşĺďź0~63
  * ĺ?    ć°ďźIsFilled ćĺŽä¸č?ĺ˝˘ć?ĺŚĺĄŤĺ?
  *           čĺ´ďźOLED_UNFILLED		ä¸ĺĄŤĺ?
  *                 OLED_FILLED			ĺĄ?ĺ?
  * čż? ĺ? ĺźďźć?
  * čŻ?    ćďźč°ç¨ć­¤ĺ˝ć°ĺďźč?ćłçć?Łĺ°ĺç°ĺ¨ĺąĺšä¸ďźčżéč°ç¨ć´ć°ĺ˝ć°
  */
void OLED_DrawTriangle(int16_t X0, int16_t Y0, int16_t X1, int16_t Y1, int16_t X2, int16_t Y2, uint8_t IsFilled)
{
	int16_t minx = X0, miny = Y0, maxx = X0, maxy = Y0;
	int16_t i, j;
	int16_t vx[] = {X0, X1, X2};
	int16_t vy[] = {Y0, Y1, Y2};

	if (!IsFilled)			//ćĺŽä¸č?ĺ˝˘ä¸ĺĄŤĺ?
	{
		/*č°ç¨çťçşżĺ˝ć°ďźĺ°ä¸ä¸Şçšç¨ç´çşżčżćĽ*/
		OLED_DrawLine(X0, Y0, X1, Y1);
		OLED_DrawLine(X0, Y0, X2, Y2);
		OLED_DrawLine(X1, Y1, X2, Y2);
	}
	else					//ćĺŽä¸č?ĺ˝˘ĺĄ?ĺ?
	{
		/*ćžĺ°ä¸ä¸Şçšćĺ°çXăYĺć */
		if (X1 < minx) {minx = X1;}
		if (X2 < minx) {minx = X2;}
		if (Y1 < miny) {miny = Y1;}
		if (Y2 < miny) {miny = Y2;}

		/*ćžĺ°ä¸ä¸Şçšćĺ¤§çXăYĺć */
		if (X1 > maxx) {maxx = X1;}
		if (X2 > maxx) {maxx = X2;}
		if (Y1 > maxy) {maxy = Y1;}
		if (Y2 > maxy) {maxy = Y2;}

		/*ćĺ°ćĺ¤§ĺć äšé´ççŠĺ˝˘ä¸şĺŻč˝éčŚĺĄŤĺçĺşĺ*/
		/*éĺć­¤ĺşĺä¸­ććçç?*/
		/*éĺXĺć */
		for (i = minx; i <= maxx; i ++)
		{
			/*éĺYĺć */
			for (j = miny; j <= maxy; j ++)
			{
				/*č°ç¨OLED_pnpolyďźĺ¤ć?ćĺŽçšćŻĺŚĺ¨ćĺŽä¸č?ĺ˝˘äšä¸­*/
				/*ĺŚćĺ?ďźĺçťçšďźĺ?ćä¸ĺ¨ďźĺä¸ĺĺ¤ç*/
				if (OLED_pnpoly(3, vx, vy, i, j)) {OLED_DrawPoint(i, j);}
			}
		}
	}
}

/**
  * ĺ?    ć°ďźOLEDçťĺ
  * ĺ?    ć°ďźX ćĺŽĺçĺĺżć¨?ĺć ďźčĺ´ďź-32768~32767ďźĺąĺšĺşĺďź0~127
  * ĺ?    ć°ďźY ćĺŽĺçĺĺżçşľĺć ďźčĺ´ďź?-32768~32767ďźĺąĺšĺşĺďź0~63
  * ĺ?    ć°ďźRadius ćĺŽĺçĺĺžďźčĺ´ďź0~255
  * ĺ?    ć°ďźIsFilled ćĺŽĺćŻĺŚĺĄŤĺ?
  *           čĺ´ďźOLED_UNFILLED		ä¸ĺĄŤĺ?
  *                 OLED_FILLED			ĺĄ?ĺ?
  * čż? ĺ? ĺźďźć?
  * čŻ?    ćďźč°ç¨ć­¤ĺ˝ć°ĺďźč?ćłçć?Łĺ°ĺç°ĺ¨ĺąĺšä¸ďźčżéč°ç¨ć´ć°ĺ˝ć°
  */
void OLED_DrawCircle(int16_t X, int16_t Y, uint8_t Radius, uint8_t IsFilled)
{
	int16_t x, y, d, j;

	/*ä˝żç¨BresenhamçŽćłçťĺďźĺŻäťĽéżĺčćśçćľŽçščżçŽďźćçć´éŤ*/
	/*ĺčććĄŁďźhttps://www.cs.montana.edu/courses/spring2009/425/dslectures/Bresenham.pdf*/
	/*ĺčćç¨ďźhttps://www.bilibili.com/video/BV1VM4y1u7wJ*/

	d = 1 - Radius;
	x = 0;
	y = Radius;

	/*çťćŻä¸?ĺ?ĺäšä¸ĺĺź§çčľˇĺ§çš*/
	OLED_DrawPoint(X + x, Y + y);
	OLED_DrawPoint(X - x, Y - y);
	OLED_DrawPoint(X + y, Y + x);
	OLED_DrawPoint(X - y, Y - x);

	if (IsFilled)		//ćĺŽĺĺĄŤĺ?
	{
		/*éĺčľˇĺ?çšYĺć */
		for (j = -y; j < y; j ++)
		{
			/*ĺ¨ćĺŽĺşĺçťçšďźĺĄ?ĺé¨ĺĺ*/
			OLED_DrawPoint(X, Y + j);
		}
	}

	while (x < y)		//éĺXč˝´çćŻä¸Şç?
	{
		x ++;
		if (d < 0)		//ä¸ä¸ä¸?çšĺ¨ĺ˝ĺçšä¸ć?
		{
			d += 2 * x + 1;
		}
		else			//ä¸ä¸ä¸?çšĺ¨ĺ˝ĺçšä¸ĺćš
		{
			y --;
			d += 2 * (x - y) + 1;
		}

		/*çťćŻä¸?ĺ?ĺäšä¸ĺĺź§ççš*/
		OLED_DrawPoint(X + x, Y + y);
		OLED_DrawPoint(X + y, Y + x);
		OLED_DrawPoint(X - x, Y - y);
		OLED_DrawPoint(X - y, Y - x);
		OLED_DrawPoint(X + x, Y - y);
		OLED_DrawPoint(X + y, Y - x);
		OLED_DrawPoint(X - x, Y + y);
		OLED_DrawPoint(X - y, Y + x);

		if (IsFilled)	//ćĺŽĺĺĄŤĺ?
		{
			/*éĺä¸?é´é¨ĺ?*/
			for (j = -y; j < y; j ++)
			{
				/*ĺ¨ćĺŽĺşĺçťçšďźĺĄ?ĺé¨ĺĺ*/
				OLED_DrawPoint(X + x, Y + j);
				OLED_DrawPoint(X - x, Y + j);
			}

			/*éĺä¸¤äž§é¨ĺ*/
			for (j = -x; j < x; j ++)
			{
				/*ĺ¨ćĺŽĺşĺçťçšďźĺĄ?ĺé¨ĺĺ*/
				OLED_DrawPoint(X - y, Y + j);
				OLED_DrawPoint(X + y, Y + j);
			}
		}
	}
}

/**
  * ĺ?    ć°ďźOLEDçťć¤­ĺ?
  * ĺ?    ć°ďźX ćĺŽć¤?ĺçĺĺżć¨?ĺć ďźčĺ´ďź-32768~32767ďźĺąĺšĺşĺďź0~127
  * ĺ?    ć°ďźY ćĺŽć¤?ĺçĺĺżçşľĺć ďźčĺ´ďź?-32768~32767ďźĺąĺšĺşĺďź0~63
  * ĺ?    ć°ďźA ćĺŽć¤?ĺçć¨?ĺĺč˝´éżĺşŚďźčĺ´ďź?0~255
  * ĺ?    ć°ďźB ćĺŽć¤?ĺççşľĺĺč˝´éżĺşŚďźčĺ´ďź0~255
  * ĺ?    ć°ďźIsFilled ćĺŽć¤?ĺćŻĺŚĺĄŤĺ?
  *           čĺ´ďźOLED_UNFILLED		ä¸ĺĄŤĺ?
  *                 OLED_FILLED			ĺĄ?ĺ?
  * čż? ĺ? ĺźďźć?
  * čŻ?    ćďźč°ç¨ć­¤ĺ˝ć°ĺďźč?ćłçć?Łĺ°ĺç°ĺ¨ĺąĺšä¸ďźčżéč°ç¨ć´ć°ĺ˝ć°
  */
void OLED_DrawEllipse(int16_t X, int16_t Y, uint8_t A, uint8_t B, uint8_t IsFilled)
{
	int16_t x, y, j;
	int16_t a = A, b = B;
	float d1, d2;

	/*ä˝żç¨BresenhamçŽćłçťć¤­ĺďźĺ?äťĽéżĺé¨ĺčćśçćľŽçščżçŽďźćçć´éŤ*/
	/*ĺčéžćĽďźhttps://blog.csdn.net/myf_666/article/details/128167392*/

	x = 0;
	y = b;
	d1 = b * b + a * a * (-b + 0.5);

	if (IsFilled)	//ćĺŽć¤?ĺĺĄŤĺ?
	{
		/*éĺčľˇĺ?çšYĺć */
		for (j = -y; j < y; j ++)
		{
			/*ĺ¨ćĺŽĺşĺçťçšďźĺĄ?ĺé¨ĺć¤­ĺ?*/
			OLED_DrawPoint(X, Y + j);
			OLED_DrawPoint(X, Y + j);
		}
	}

	/*çťć¤­ĺĺź§çčľˇĺ§çš*/
	OLED_DrawPoint(X + x, Y + y);
	OLED_DrawPoint(X - x, Y - y);
	OLED_DrawPoint(X - x, Y + y);
	OLED_DrawPoint(X + x, Y - y);

	/*çťć¤­ĺä¸­é´é¨ĺ?*/
	while (b * b * (x + 1) < a * a * (y - 0.5))
	{
		if (d1 <= 0)		//ä¸ä¸ä¸?çšĺ¨ĺ˝ĺçšä¸ć?
		{
			d1 += b * b * (2 * x + 3);
		}
		else				//ä¸ä¸ä¸?çšĺ¨ĺ˝ĺçšä¸ĺćš
		{
			d1 += b * b * (2 * x + 3) + a * a * (-2 * y + 2);
			y --;
		}
		x ++;

		if (IsFilled)	//ćĺŽć¤?ĺĺĄŤĺ?
		{
			/*éĺä¸?é´é¨ĺ?*/
			for (j = -y; j < y; j ++)
			{
				/*ĺ¨ćĺŽĺşĺçťçšďźĺĄ?ĺé¨ĺć¤­ĺ?*/
				OLED_DrawPoint(X + x, Y + j);
				OLED_DrawPoint(X - x, Y + j);
			}
		}

		/*çťć¤­ĺä¸­é´é¨ĺĺĺź?*/
		OLED_DrawPoint(X + x, Y + y);
		OLED_DrawPoint(X - x, Y - y);
		OLED_DrawPoint(X - x, Y + y);
		OLED_DrawPoint(X + x, Y - y);
	}

	/*çťć¤­ĺä¸¤äž§é¨ĺ?*/
	d2 = b * b * (x + 0.5) * (x + 0.5) + a * a * (y - 1) * (y - 1) - a * a * b * b;

	while (y > 0)
	{
		if (d2 <= 0)		//ä¸ä¸ä¸?çšĺ¨ĺ˝ĺçšä¸ć?
		{
			d2 += b * b * (2 * x + 2) + a * a * (-2 * y + 3);
			x ++;

		}
		else				//ä¸ä¸ä¸?çšĺ¨ĺ˝ĺçšä¸ĺćš
		{
			d2 += a * a * (-2 * y + 3);
		}
		y --;

		if (IsFilled)	//ćĺŽć¤?ĺĺĄŤĺ?
		{
			/*éĺä¸¤äž§é¨ĺ*/
			for (j = -y; j < y; j ++)
			{
				/*ĺ¨ćĺŽĺşĺçťçšďźĺĄ?ĺé¨ĺć¤­ĺ?*/
				OLED_DrawPoint(X + x, Y + j);
				OLED_DrawPoint(X - x, Y + j);
			}
		}

		/*çťć¤­ĺä¸¤äž§é¨ĺĺĺź?*/
		OLED_DrawPoint(X + x, Y + y);
		OLED_DrawPoint(X - x, Y - y);
		OLED_DrawPoint(X - x, Y + y);
		OLED_DrawPoint(X + x, Y - y);
	}
}

/**
  * ĺ?    ć°ďźOLEDçťĺĺź?
  * ĺ?    ć°ďźX ćĺŽĺĺź§çĺĺżć¨Şĺć ďźčĺ´ďź-32768~32767ďźĺąĺšĺşĺďź0~127
  * ĺ?    ć°ďźY ćĺŽĺĺź§çĺĺżçşľĺć ďźčĺ´ďź-32768~32767ďźĺąĺšĺşĺďź0~63
  * ĺ?    ć°ďźRadius ćĺŽĺĺź§çĺĺžďźčĺ´ďź?0~255
  * ĺ?    ć°ďźStartAngle ćĺŽĺĺź§çčľˇĺ§č?ĺşŚďźčĺ´ďź-180~180
  *           ć°´ĺšłĺĺłä¸?0ĺşŚďźć°´ĺšłĺĺˇŚä¸?180ĺşŚć-180ĺşŚďźä¸ćšä¸şć?Łć°ďźä¸ćšä¸şč´ć°ďźéĄşćśéćč˝Ź
  * ĺ?    ć°ďźEndAngle ćĺŽĺĺź§ççťć­˘č?ĺşŚďźčĺ´ďź-180~180
  *           ć°´ĺšłĺĺłä¸?0ĺşŚďźć°´ĺšłĺĺˇŚä¸?180ĺşŚć-180ĺşŚďźä¸ćšä¸şć?Łć°ďźä¸ćšä¸şč´ć°ďźéĄşćśéćč˝Ź
  * ĺ?    ć°ďźIsFilled ćĺŽĺĺź§ć?ĺŚĺĄŤĺďźĺĄ?ĺĺä¸şćĺ˝?
  *           čĺ´ďźOLED_UNFILLED		ä¸ĺĄŤĺ?
  *                 OLED_FILLED			ĺĄ?ĺ?
  * čż? ĺ? ĺźďźć?
  * čŻ?    ćďźč°ç¨ć­¤ĺ˝ć°ĺďźč?ćłçć?Łĺ°ĺç°ĺ¨ĺąĺšä¸ďźčżéč°ç¨ć´ć°ĺ˝ć°
  */
void OLED_DrawArc(int16_t X, int16_t Y, uint8_t Radius, int16_t StartAngle, int16_t EndAngle, uint8_t IsFilled)
{
	int16_t x, y, d, j;

	/*ć­¤ĺ˝ć°ĺç¨BresenhamçŽćłçťĺçćšćł?*/

	d = 1 - Radius;
	x = 0;
	y = Radius;

	/*ĺ¨çťĺçćŻä¸Şçšćśďźĺ¤ć?ćĺŽçšćŻĺŚĺ¨ćĺŽč§ĺşŚĺďźĺ?ďźĺçťçšďźä¸ĺ?ďźĺä¸ĺĺ¤ç*/
	if (OLED_IsInAngle(x, y, StartAngle, EndAngle))	{OLED_DrawPoint(X + x, Y + y);}
	if (OLED_IsInAngle(-x, -y, StartAngle, EndAngle)) {OLED_DrawPoint(X - x, Y - y);}
	if (OLED_IsInAngle(y, x, StartAngle, EndAngle)) {OLED_DrawPoint(X + y, Y + x);}
	if (OLED_IsInAngle(-y, -x, StartAngle, EndAngle)) {OLED_DrawPoint(X - y, Y - x);}

	if (IsFilled)	//ćĺŽĺĺź§ĺĄ?ĺ?
	{
		/*éĺčľˇĺ?çšYĺć */
		for (j = -y; j < y; j ++)
		{
			/*ĺ¨ĺĄŤĺĺçćŻä¸?çšćśďźĺ¤ć?ćĺŽçšćŻĺŚĺ¨ćĺŽč§ĺşŚĺďźĺ?ďźĺçťçšďźä¸ĺ?ďźĺä¸ĺĺ¤ç*/
			if (OLED_IsInAngle(0, j, StartAngle, EndAngle)) {OLED_DrawPoint(X, Y + j);}
		}
	}

	while (x < y)		//éĺXč˝´çćŻä¸Şç?
	{
		x ++;
		if (d < 0)		//ä¸ä¸ä¸?çšĺ¨ĺ˝ĺçšä¸ć?
		{
			d += 2 * x + 1;
		}
		else			//ä¸ä¸ä¸?çšĺ¨ĺ˝ĺçšä¸ĺćš
		{
			y --;
			d += 2 * (x - y) + 1;
		}

		/*ĺ¨çťĺçćŻä¸Şçšćśďźĺ¤ć?ćĺŽçšćŻĺŚĺ¨ćĺŽč§ĺşŚĺďźĺ?ďźĺçťçšďźä¸ĺ?ďźĺä¸ĺĺ¤ç*/
		if (OLED_IsInAngle(x, y, StartAngle, EndAngle)) {OLED_DrawPoint(X + x, Y + y);}
		if (OLED_IsInAngle(y, x, StartAngle, EndAngle)) {OLED_DrawPoint(X + y, Y + x);}
		if (OLED_IsInAngle(-x, -y, StartAngle, EndAngle)) {OLED_DrawPoint(X - x, Y - y);}
		if (OLED_IsInAngle(-y, -x, StartAngle, EndAngle)) {OLED_DrawPoint(X - y, Y - x);}
		if (OLED_IsInAngle(x, -y, StartAngle, EndAngle)) {OLED_DrawPoint(X + x, Y - y);}
		if (OLED_IsInAngle(y, -x, StartAngle, EndAngle)) {OLED_DrawPoint(X + y, Y - x);}
		if (OLED_IsInAngle(-x, y, StartAngle, EndAngle)) {OLED_DrawPoint(X - x, Y + y);}
		if (OLED_IsInAngle(-y, x, StartAngle, EndAngle)) {OLED_DrawPoint(X - y, Y + x);}

		if (IsFilled)	//ćĺŽĺĺź§ĺĄ?ĺ?
		{
			/*éĺä¸?é´é¨ĺ?*/
			for (j = -y; j < y; j ++)
			{
				/*ĺ¨ĺĄŤĺĺçćŻä¸?çšćśďźĺ¤ć?ćĺŽçšćŻĺŚĺ¨ćĺŽč§ĺşŚĺďźĺ?ďźĺçťçšďźä¸ĺ?ďźĺä¸ĺĺ¤ç*/
				if (OLED_IsInAngle(x, j, StartAngle, EndAngle)) {OLED_DrawPoint(X + x, Y + j);}
				if (OLED_IsInAngle(-x, j, StartAngle, EndAngle)) {OLED_DrawPoint(X - x, Y + j);}
			}

			/*éĺä¸¤äž§é¨ĺ*/
			for (j = -x; j < x; j ++)
			{
				/*ĺ¨ĺĄŤĺĺçćŻä¸?çšćśďźĺ¤ć?ćĺŽçšćŻĺŚĺ¨ćĺŽč§ĺşŚĺďźĺ?ďźĺçťçšďźä¸ĺ?ďźĺä¸ĺĺ¤ç*/
				if (OLED_IsInAngle(-y, j, StartAngle, EndAngle)) {OLED_DrawPoint(X - y, Y + j);}
				if (OLED_IsInAngle(y, j, StartAngle, EndAngle)) {OLED_DrawPoint(X + y, Y + j);}
			}
		}
	}
}


